<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resume Template Builder</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f4f6f8; }
    .container { max-width: 1100px; margin: auto; padding: 1.5rem; }
    h1, h2 { text-align: center; color: #003566; }

    .section {
      margin-bottom: 1.8rem;
      padding: 1rem;
      background: #ffffff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      transition: all 0.3s ease;
    }
    .section:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
    .section h3 { margin-bottom: 0.6rem; color: #003566; font-size: 1.1rem; }
    label { display: block; margin: 0.4rem 0 0.2rem; font-weight: 600; color: #333; font-size: 0.95rem; }
    input, textarea {
      width: 100%; padding: 0.6rem;
      border-radius: 6px; border: 1px solid #ccc;
      font-size: 0.95rem;
      transition: border 0.2s ease;
    }
    input:focus, textarea:focus { border-color: #003566; outline: none; }

    #preview {
      margin-top: 2rem;
      text-align: center;
    }
    .preview-block {
      max-width: 600px;
      margin: auto;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      padding: 1.5rem;
      transform: scale(0.9);
    }
    .preview-header h2 {
      font-size: 1.3rem;
      color: #003566;
      margin-bottom: 1rem;
    }

    .preview-info {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      background: #f1f5ff;
      padding: 1rem;
      border-radius: 10px;
      margin-bottom: 1.5rem;
    }
    .preview-photo-wrapper {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid #003566;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .circular-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
    }
    .preview-section h4 {
      background: #003566;
      color: #fff;
      padding: 0.4rem 1rem;
      border-radius: 6px 6px 0 0;
      font-size: 1rem;
      margin: 0;
    }
    .content-box {
      border: 1px solid #ccc;
      padding: 1rem;
      border-radius: 0 0 6px 6px;
      background: #fff;
    }

    @media (max-width: 768px) {
      .container { padding: 1rem; }
      .preview-block { transform: scale(0.85); }
    }

  </style>
</head>
<body>
<h1 style="text-align: center; color: #003566; margin-top: 2rem;">
  <span style="display: block; font-size: 2rem;">üíº</span>
  Premium Resume Template Builder
</h1>

<div class="container">
  
  <div id="formContainer"></div>

<div class="right-column">
  <h2 id="previewHeading" style="text-align: left; margin-top: 0; margin-bottom: 1rem; color: #003566;">üîç Live Preview</h2>
  <div id="liveTemplateScaleWrapper">
    <div id="liveTemplate">
</div>
  </div>
</div>


<style>
/* Mobile-first: Preview behaves like a fixed image */
#liveTemplate {
  width: 794px;
  height: 1122px;
  transform: scale(0.45); /* üëà Feel free to increase/decrease */
  transform-origin: top center;
  display: block;
  margin: 0 auto;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
  pointer-events: none; /* üëà Makes it feel like image (optional) */
}

#liveTemplateScaleWrapper {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 1.5rem 0;
  overflow-x: hidden;
}

/* Tablet: increase preview size */
@media (min-width: 768px) {
  #liveTemplate {
    transform: scale(0.65);
  }
}

/* Desktop: full scale and side-by-side layout */
@media (min-width: 1024px) {
  #liveTemplate {
    transform: scale(0.85);
    transform-origin: top left;
    margin: 0;
    pointer-events: auto;
  }

  .container {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 3rem;
    padding: 2rem;
  }

  #formContainer {
    flex: 1.3;
    max-width: 600px;
  }

  .right-column {
    flex: 1;
    max-width: 500px;
  }

  #liveTemplateScaleWrapper {
    justify-content: flex-start;
    overflow-x: hidden;
  }
}

/* Mobile: layout stacking + full width */
@media (max-width: 768px) {
  .container {
    display: block !important;
    padding: 1rem;
  }

  .right-column {
    max-width: 100%;
    width: 100%;
    margin-top: 2rem;
  }
}
</style>



<!-- Updated full script block with all 5 templates -->
<script>
const templates = {
  "student-simple": `
    <div id="template-student-simple" class="template-block active" style="background: #ffffff; padding: 2rem; max-width: 800px; margin: auto; border: 1px solid #ccc; border-radius: 12px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 0 8px rgba(0,0,0,0.1);">
      <h2 style="text-align: center; color: #003566; font-size: 1.5rem; margin-bottom: 1.5rem;">üßæ Resume: Student Simple</h2>
      <div style="background: #f1f5ff; padding: 1.2rem; border-radius: 10px; display: flex; gap: 1.5rem; align-items: center; flex-wrap: wrap;">
        <img id="profilePhoto" src="https://via.placeholder.com/120" alt="Profile Photo" style="border-radius: 50%; width: 120px; height: 120px; object-fit: cover; border: 2px solid #003566;">
        <div>
          <h1 id="name" style="margin: 0; font-size: 1.6rem; color: #003566;">Riya Sharma</h1>
          <p id="email" style="margin: 2px 0;">riya.sharma@example.com</p>
          <p id="phone" style="margin: 2px 0;">+91 98765 43210</p>
          <p id="location" style="margin: 2px 0;">New Delhi, India</p>
        </div>
      </div>
      <div style="margin-top: 1.5rem;">
        <h3 id="heading-summary" style="background: #003566; color: white; padding: 0.5rem 1rem; border-radius: 6px 6px 0 0;">OBJECTIVE</h3>
        <div style="border: 1px solid #ccc; padding: 1rem; border-radius: 0 0 6px 6px;">
          <p id="summary">Dedicated and motivated student seeking opportunities to apply academic knowledge and gain practical experience in a dynamic organization.</p>
        </div>
      </div>
      <div style="margin-top: 1.5rem;">
        <h3 id="heading-educationList" style="background: #003566; color: white; padding: 0.5rem 1rem; border-radius: 6px 6px 0 0;">EDUCATION</h3>
        <div style="border: 1px solid #ccc; padding: 1rem; border-radius: 0 0 6px 6px;">
          <ul id="educationList" style="margin: 0; padding-left: 1.2rem;">
            <li><strong>B.A. (Hons) in English Literature</strong> ‚Äì Delhi University (2023)</li>
            <li><strong>12th CBSE</strong> ‚Äì DPS RK Puram (2020), 92%</li>
          </ul>
        </div>
      </div>
      <div style="margin-top: 1.5rem;">
        <h3 id="heading-projectList" style="background: #003566; color: white; padding: 0.5rem 1rem; border-radius: 6px 6px 0 0;">INTERNSHIP / PROJECTS</h3>
        <div style="border: 1px solid #ccc; padding: 1rem; border-radius: 0 0 6px 6px;">
          <ul id="projectList" style="margin: 0; padding-left: 1.2rem;">
            <li><strong>Content Writing Intern</strong> ‚Äì Youth360 Media (Summer 2022)</li>
            <li><strong>College Magazine Editor</strong> ‚Äì DU Campus Magazine (2021‚Äì22)</li>
          </ul>
        </div>
      </div>
      <div style="margin-top: 1.5rem;">
        <h3 id="heading-skillsList" style="background: #003566; color: white; padding: 0.5rem 1rem; border-radius: 6px 6px 0 0;">SKILLS</h3>
        <div style="border: 1px solid #ccc; padding: 1rem; border-radius: 0 0 6px 6px;">
          <ul id="skillsList" style="margin: 0; padding-left: 1.2rem;">
            <li>Creative Writing</li>
            <li>MS Office (Word, PowerPoint)</li>
            <li>Communication & Teamwork</li>
          </ul>
        </div>
      </div>
    </div><div style="text-align: center; margin-top: 30px;">
  <button id="downloadPDF-student-simple" class="btn-pdf">üìÑ Download PDF</button>
  <button id="downloadDOCX-student-simple" class="btn-docx">üìù Download DOCX</button>
  <p id="downloadStatus-student-simple" class="status-text"></p>
</div>


  `,

  "student-internship": `
    <div id="template-student-internship" class="template-block" style="display: flex; max-width: 900px; margin: auto; font-family: 'Segoe UI', sans-serif; border: 1px solid #ccc; border-radius: 10px; overflow: hidden; box-shadow: 0 0 8px rgba(0,0,0,0.1);">
      <div style="background: #003566; color: white; width: 280px; padding: 2rem 1.5rem; text-align: center;">
        <img id="profilePhoto" src="https://i.imgur.com/8Km9tLL.png" alt="Profile Photo" style="border-radius: 50%; width: 100px; height: 100px; object-fit: cover; border: 3px solid white;">

        <h2 id="name" style="margin: 1rem 0 0.3rem; font-size: 1.4rem;">Eliana</h2>
        <p id="email" style="margin: 0.2rem 0;">ankit.verma@example.com</p>
        <p id="phone" style="margin: 0.2rem 0;">üìû +91 87******22</p>
        <p id="location" style="margin: 0.2rem 0;">Pune, India</p>
      </div>
      <div style="flex: 1; background: #ffffff; padding: 2rem;">
        <div style="margin-bottom: 1.5rem;">
          <h3 id="heading-summary" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">OBJECTIVE</h3>
          <p id="summary">Marketing student seeking internship to apply practical knowledge and grow digital marketing skills.</p>
        </div>
        <div style="margin-bottom: 1.5rem;">
          <h3 id="heading-educationList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">EDUCATION</h3>
          <ul id="educationList" style="margin: 0; padding-left: 1.2rem;">
            <li><strong>BBA in Marketing</strong> ‚Äì Symbiosis Pune (2024)</li>
          </ul>
        </div>
        <div style="margin-bottom: 1.5rem;">
          <h3 id="heading-internshipList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">INTERNSHIP</h3>
          <ul id="internshipList" style="margin: 0; padding-left: 1.2rem;">
            <li><strong>Marketing Intern</strong> ‚Äì Zeno Pvt Ltd (2 months)</li>
          </ul>
        </div>
        <div style="margin-bottom: 1.5rem;">
          <h3 id="heading-projectList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">PROJECTS</h3>
          <ul id="projectList" style="margin: 0; padding-left: 1.2rem;">
            <li><strong>Student Survey Campaign</strong> ‚Äì Led a campus campaign to gather marketing insights.</li>
          </ul>
        </div>
        <div>
          <h3 id="heading-skillsList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">SKILLS</h3>
          <ul id="skillsList" style="margin: 0; padding-left: 1.2rem;">
            <li>SEO Basics</li>
            <li>MS Excel</li>
            <li>Presentation Skills</li>
          </ul>
        </div>
      </div>
    </div>
<div style="text-align: center; margin-top: 40px;">
  <button id="downloadPDF" style="
    background-color: #2563eb;
    color: white;
    padding: 10px 20px;
    margin-right: 10px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#1e40af'" onmouseout="this.style.backgroundColor='#2563eb'">
    üìÑ Download PDF
  </button>

  <button id="downloadDOCX" style="
    background-color: #10b981;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#059669'" onmouseout="this.style.backgroundColor='#10b981'">
    üìù Download DOCX
  </button>

  <!-- üëá Status message -->
  <p id="downloadStatus" style="margin-top: 10px; color: #555;"></p>
</div>

  `,

  // üîª Continue from here to add next templates: creative-student, academic-cv, tech-fresher

  "creative-student": `
    <div id="template-creative-student" class="template-block" style="display: flex; max-width: 900px; margin: auto; font-family: 'Segoe UI', sans-serif; border: 1px solid #ccc; border-radius: 10px; overflow: hidden; box-shadow: 0 0 8px rgba(0,0,0,0.1);">
      <div style="background: #e83e8c; color: white; width: 280px; padding: 2rem 1.5rem; text-align: center;">
        <img id="profilePhoto" src="https://i.imgur.com/8Km9tLL.png" alt="Profile Photo" style="border-radius: 50%; width: 100px; height: 100px; object-fit: cover; border: 3px solid white;">

        <h2 id="name" style="margin: 1rem 0 0.3rem; font-size: 1.4rem;">Meera Das</h2>
        <p id="email" style="margin: 0.2rem 0;">meera.das@example.com</p>
        <p id="phone" style="margin: 0.2rem 0;">üìû +91 87******33</p>
        <p id="location" style="margin: 0.2rem 0;">Mumbai, India</p>
      </div>
      <div style="flex: 1; background: #ffffff; padding: 2rem;">
        <div style="margin-bottom: 1.5rem;">
          <h3 id="heading-summary" style="color: #e83e8c; border-bottom: 1px dashed #ccc; padding-bottom: 4px;">OBJECTIVE</h3>
          <p id="summary">Creative arts student with a passion for visual design and storytelling. Seeking media/design internship.</p>
        </div>
        <div style="margin-bottom: 1.5rem;">
          <h3 id="heading-educationList" style="color: #e83e8c; border-bottom: 1px dashed #ccc; padding-bottom: 4px;">EDUCATION</h3>
          <ul id="educationList" style="padding-left: 1.2rem; margin: 0;">
            <li><strong>BFA in Visual Arts</strong> ‚Äì JJ School of Art (2024)</li>
          </ul>
        </div>
        <div style="margin-bottom: 1.5rem;">
          <h3 id="heading-projectList" style="color: #e83e8c; border-bottom: 1px dashed #ccc; padding-bottom: 4px;">PROJECTS</h3>
          <ul id="projectList" style="padding-left: 1.2rem; margin: 0;">
            <li><strong>Short Film Editor</strong> ‚Äì Edited award-winning short film on social themes.</li>
          </ul>
        </div>
        <div style="margin-bottom: 1.5rem;">
          <h3 id="heading-experienceList" style="color: #e83e8c; border-bottom: 1px dashed #ccc; padding-bottom: 4px;">EXPERIENCE</h3>
          <ul id="experienceList" style="padding-left: 1.2rem; margin: 0;">
            <li><strong>Graphic Design Intern</strong> ‚Äì Studio Pixel (May‚ÄìJuly 2023)</li>
            <li><strong>Freelance Illustrator</strong> ‚Äì Designed book covers & social media creatives</li>
          </ul>
        </div>
        <div>
          <h3 id="heading-skillsList" style="color: #e83e8c; border-bottom: 1px dashed #ccc; padding-bottom: 4px;">SKILLS</h3>
          <ul id="skillsList" style="padding-left: 1.2rem; margin: 0;">
            <li>Adobe Premiere</li>
            <li>Figma</li>
            <li>Storyboarding</li>
          </ul>
        </div>
      </div>
    </div>
<div style="text-align: center; margin-top: 40px;">
  <button id="downloadPDF" style="
    background-color: #2563eb;
    color: white;
    padding: 10px 20px;
    margin-right: 10px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#1e40af'" onmouseout="this.style.backgroundColor='#2563eb'">
    üìÑ Download PDF
  </button>

  <button id="downloadDOCX" style="
    background-color: #10b981;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#059669'" onmouseout="this.style.backgroundColor='#10b981'">
    üìù Download DOCX
  </button>

  <!-- üëá Status message -->
  <p id="downloadStatus" style="margin-top: 10px; color: #555;"></p>
</div>

  `,

  "academic-cv": `
    <div id="template-academic-cv" class="template-block" style="background: #fffbea; padding: 2rem; max-width: 850px; margin: auto; font-family: 'Segoe UI', sans-serif; border-radius: 10px; box-shadow: 0 0 8px rgba(0,0,0,0.1);">
      <div style="display: flex; gap: 2rem; align-items: center; flex-wrap: wrap; margin-bottom: 2rem;">
        <img id="profilePhoto" src="https://i.imgur.com/8Km9tLL.png" alt="Profile Photo" style="width: 100px; height: 100px; object-fit: cover; border-radius: 50%; border: 3px solid #28a745;">

        <div>
          <h1 id="name" style="margin: 0; font-size: 1.8rem; color: #003566;">Aditya Kulkarni</h1>
          <p id="email" style="margin: 2px 0;">aditya.k@example.com</p>
          <p id="phone" style="margin: 2px 0;">üìû +91 88******99</p>
          <p id="location" style="margin: 2px 0;">Chennai, India</p>
        </div>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <h3 id="heading-summary" style="color: #28a745; border-bottom: 1px dashed #aaa; padding-bottom: 5px;">OBJECTIVE</h3>
        <p id="summary">To pursue graduate studies in Machine Learning and contribute to impactful AI research.</p>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <h3 id="heading-educationList" style="color: #28a745; border-bottom: 1px dashed #aaa; padding-bottom: 5px;">EDUCATION</h3>
        <ul id="educationList" style="padding-left: 1.2rem; margin: 0;">
          <li><strong>B.Tech in Computer Science</strong> ‚Äì IIT Madras (2024)</li>
        </ul>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <h3 id="heading-projectList" style="color: #28a745; border-bottom: 1px dashed #aaa; padding-bottom: 5px;">RESEARCH / PROJECTS</h3>
        <ul id="projectList" style="padding-left: 1.2rem; margin: 0;">
          <li><strong>ML-based Crop Prediction</strong> ‚Äì Published paper in IEEE conference 2023.</li>
        </ul>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <h3 id="heading-experienceList" style="color: #28a745; border-bottom: 1px dashed #aaa; padding-bottom: 5px;">EXPERIENCE</h3>
        <ul id="experienceList" style="padding-left: 1.2rem; margin: 0;">
          <li><strong>Teaching Assistant</strong> ‚Äì Machine Learning Lab, IIT Madras (2023)</li>
          <li><strong>Intern</strong> ‚Äì AI Research Team, Google Research India (Summer 2022)</li>
        </ul>
      </div>
      <div>
        <h3 id="heading-skillsList" style="color: #28a745; border-bottom: 1px dashed #aaa; padding-bottom: 5px;">SKILLS</h3>
        <ul id="skillsList" style="padding-left: 1.2rem; margin: 0;">
          <li>Python</li>
          <li>LaTeX</li>
          <li>TensorFlow</li>
        </ul>
      </div>
    </div>
<div style="text-align: center; margin-top: 40px;">
  <button id="downloadPDF" style="
    background-color: #2563eb;
    color: white;
    padding: 10px 20px;
    margin-right: 10px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#1e40af'" onmouseout="this.style.backgroundColor='#2563eb'">
    üìÑ Download PDF
  </button>

  <button id="downloadDOCX" style="
    background-color: #10b981;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#059669'" onmouseout="this.style.backgroundColor='#10b981'">
    üìù Download DOCX
  </button>

  <!-- üëá Status message -->
  <p id="downloadStatus" style="margin-top: 10px; color: #555;"></p>
</div>

  `,

  "tech-fresher": `
    <div id="template-tech-fresher" class="template-block" style="max-width: 850px; margin: auto; font-family: 'Segoe UI', sans-serif; background: #ffffff; padding: 2rem; border-radius: 10px; box-shadow: 0 0 8px rgba(0,0,0,0.1);">
      <div style="text-align: center; margin-bottom: 1.5rem;">
        <h1 id="name" style="margin: 0; font-size: 1.8rem; color: #003566;">Rohan Mehta</h1>
        <p id="job" style="margin: 4px 0 0; font-size: 1rem;">Software Engineering Fresher</p>
        <p id="email" style="margin: 2px 0;">rohan.mehta@example.com</p>
        <p id="phone" style="margin: 2px 0;">üìû +91 87******55</p>
        <p id="location" style="margin: 2px 0;">Bangalore, India</p>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <h3 id="heading-educationList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">EDUCATION</h3>
        <ul id="educationList" style="margin: 0; padding-left: 1.2rem;">
          <li><strong>B.Tech in Computer Science</strong> ‚Äì NIT Trichy (2024)</li>
        </ul>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <h3 id="heading-projectList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">PROJECTS</h3>
        <ul id="projectList" style="margin: 0; padding-left: 1.2rem;">
          <li><strong>ResumeFixerPro</strong> ‚Äì AI-powered resume enhancer built using OpenAI + Flask</li>
          <li><strong>Portfolio Website</strong> ‚Äì React + Tailwind site deployed via GitHub Pages</li>
        </ul>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <h3 id="heading-internshipList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">INTERNSHIP</h3>
        <ul id="internshipList" style="margin: 0; padding-left: 1.2rem;">
          <li><strong>Software Intern</strong> ‚Äì Zoho Corporation (2 months, 2023)</li>
        </ul>
      </div>
      <div style="margin-bottom: 1.5rem;">
        <h3 id="heading-experienceList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">EXPERIENCE</h3>
        <ul id="experienceList" style="margin: 0; padding-left: 1.2rem;">
          <li><strong>Freelance Web Developer</strong> ‚Äì Developed 4 portfolio websites for college peers using React & Tailwind</li>
          <li><strong>Open Source Contributor</strong> ‚Äì Fixed bugs and submitted pull requests to GitHub repos like Dev.to and Public APIs</li>
        </ul>
      </div>
      <div>
        <h3 id="heading-skillsList" style="color: #003566; border-bottom: 2px solid #eee; padding-bottom: 5px;">SKILLS</h3>
        <ul id="skillsList" style="margin: 0; padding-left: 1.2rem;">
          <li>HTML, CSS, JavaScript</li>
          <li>React.js, Node.js</li>
          <li>Git, GitHub, Linux</li>
        </ul>
      </div>
    </div>
<div style="text-align: center; margin-top: 40px;">
  <button id="downloadPDF" style="
    background-color: #2563eb;
    color: white;
    padding: 10px 20px;
    margin-right: 10px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#1e40af'" onmouseout="this.style.backgroundColor='#2563eb'">
    üìÑ Download PDF
  </button>

  <button id="downloadDOCX" style="
    background-color: #10b981;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  " onmouseover="this.style.backgroundColor='#059669'" onmouseout="this.style.backgroundColor='#10b981'">
    üìù Download DOCX
  </button>

  <!-- üëá Status message -->
  <p id="downloadStatus" style="margin-top: 10px; color: #555;"></p>
</div>

  `
};

</script>
<script>
  const params = new URLSearchParams(window.location.search);
  const selectedTemplate = params.get("template");
  const previewDiv = document.getElementById("liveTemplate");

  if (selectedTemplate && typeof templates !== "undefined" && templates[selectedTemplate]) {
    previewDiv.innerHTML = templates[selectedTemplate];
  window.scrollTo({ top: 0 });

    const formContainer = document.getElementById("formContainer");
    const preview = document.getElementById("liveTemplate");

    const allElements = preview.querySelectorAll("[id]");
    let html = '<div class="section"><h3>üìù Fill Your Resume Info</h3>';
html += `
  <label for="photoUpload">üì∏ Upload Profile Photo</label>
  <input type="file" id="photoUpload" accept="image/*" />
`;

    allElements.forEach(el => {
      const id = el.id;

      // ‚úÖ Skip if id starts with "template-"
      if (id.startsWith("template-")) return;

      // ‚úÖ Skip if element is inside a template wrapper and it's an H1 or H2
      if (
  id === "profilePhoto" ||                         // ‚ùå Skip profile image
  id.startsWith("template-") ||                    // ‚ùå Skip template wrappers
  ((el.tagName === "H1" || el.tagName === "H2") && el.parentElement?.id?.startsWith("template-"))
) return;


      const label = id.replace(/([A-Z])/g, ' $1').replace(/List$/, ' (comma separated)').toUpperCase();
      html += `
        <label for="input-${id}">${label}</label>
        <input type="text" id="input-${id}" placeholder="Enter ${label}" onkeyup="updateLivePreview('${id}', this.value)" />
      `;
    });

    html += '</div>';
    formContainer.innerHTML = html;
  }

  function updateLivePreview(id, value) {
    const el = document.getElementById(id);
    if (!el) return;

    if (id.endsWith("List")) {
      const items = value.split(",").map(item => `<li>${item.trim()}</li>`).join("");
      el.innerHTML = items;
    } else {
      el.textContent = value;
    }
  }
</script>
<script>
  function convertPreviewToImage() {
    if (window.innerWidth <= 768) {
      const liveTemplate = document.getElementById("liveTemplate");

      // Agar already converted hai, dobara mat karo
      if (!liveTemplate || liveTemplate.dataset.static === "true") return;

      html2canvas(liveTemplate).then(canvas => {
        liveTemplate.innerHTML = ""; // Clear original preview
        canvas.style.width = "90%";
        canvas.style.maxWidth = "400px";
        canvas.style.display = "block";
        canvas.style.margin = "0 auto";
        canvas.style.borderRadius = "10px";
        canvas.style.boxShadow = "0 0 8px rgba(0,0,0,0.1)";
        liveTemplate.appendChild(canvas);
        liveTemplate.dataset.static = "true"; // Mark as converted
      });
    }
  }

  window.addEventListener("load", convertPreviewToImage);
  window.addEventListener("resize", convertPreviewToImage);
</script>
<script>
document.addEventListener("change", function (event) {
  if (event.target && event.target.id === "photoUpload") {
    const file = event.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function (e) {
      const imgTag = document.getElementById("profilePhoto");
      if (imgTag) {
        imgTag.src = e.target.result;
      }
    };
    reader.readAsDataURL(file);
  }
});
</script>
<!-- ‚úÖ PDF + DOCX Functionality for Multiple Buttons -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/docx/7.7.0/docx.umd.min.js"></script>

<script>
window.addEventListener("load", function () {
  const buttons = document.querySelectorAll("button[id^='downloadPDF'], button[id^='downloadDOCX']");

  buttons.forEach((btn) => {
    btn.addEventListener("click", function () {
      const isPDF = btn.id.includes("downloadPDF");
      const index = btn.id.replace(/\D/g, ""); // extract template index e.g. 1, 2, etc.
      const template = document.querySelector(`#template-student-simple, #template-student-internship, #template-creative-student, #template-academic-cv, #template-tech-fresher`);
      const status = document.getElementById("downloadStatus" + index);

      if (!template) {
        if (status) status.textContent = "‚ùå Resume not loaded!";
        return;
      }

      if (isPDF) {
        if (status) status.textContent = "Preparing PDF...";
        const prev = template.style.transform;
        template.style.transform = "scale(1)";
        template.style.transformOrigin = "top left";

        const opt = {
          margin: 0,
          filename: `resume-${index}.pdf`,
          image: { type: 'jpeg', quality: 0.98 },
          html2canvas: { scale: 2 },
          jsPDF: { unit: 'pt', format: 'a4', orientation: 'portrait' }
        };

        html2pdf().set(opt).from(template).save().then(() => {
          if (status) status.textContent = "‚úÖ PDF downloaded!";
          template.style.transform = prev;
          setTimeout(() => (status.textContent = ""), 2000);
        });

      } else {
        if (status) status.textContent = "Preparing DOCX...";
        const { Document, Packer, Paragraph, TextRun } = window.docx;

        const doc = new Document({
          sections: [
            {
              children: [
                new Paragraph({
                  children: [
                    new TextRun("Your resume content goes here..."),
                    new TextRun({ text: " (Note: This is a basic .docx layout)", bold: true }),
                  ],
                }),
              ],
            },
          ],
        });

        Packer.toBlob(doc).then(blob => {
          const link = document.createElement("a");
          link.href = URL.createObjectURL(blob);
          link.download = `resume-${index}.docx`;
          link.click();
          URL.revokeObjectURL(link.href);
          if (status) status.textContent = "‚úÖ DOCX downloaded!";
          setTimeout(() => (status.textContent = ""), 2000);
        });
      }
    });
  });
});
</script>

</body>
</html>